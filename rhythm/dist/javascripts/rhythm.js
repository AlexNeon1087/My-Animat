!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.rhythm=n.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n){t(this,e),this.isAnimate=!1,this.audio=document.createElement("audio"),this.audio.src=n,this.cxt=this.getAudioContext(),this.analyser=this.cxt.createAnalyser(),this.analyser.minDecibels=-90,this.analyser.maxDecibels=-10,this.analyser.fftSize=256,this.cxt.createMediaElementSource(this.audio).connect(this.analyser),this.analyser.connect(this.cxt.destination),this.canvas=document.getElementById("canvas"),this.canvasCXT=this.canvas.getContext("2d"),this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight}return n(e,[{key:"getAudioContext",value:function(){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;return new e}},{key:"play",value:function(){this.audio.play()}},{key:"pause",value:function(){this.audio.pause()}},{key:"getArr",value:function(){var e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),e}}]),e}();e["default"]=i});