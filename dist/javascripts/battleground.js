define(["exports","bullet"],function(t,e){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var a=void 0,h=void 0,i=t.x,s=t.y,c=void 0,r=void 0,n=e.deg%180;switch(n=e.deg/180%2?-1*n:n){case 0:c=e.x+e.width/2,r=e.y,a=(e.width+t.r)/2,h=(e.height+t.r)/2;break;case 45:c=e.x+e.width/2*Math.cos(Math.PI/4),r=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case 90:c=e.x+e.width/2,r=e.y,a=(e.height+t.r)/2,h=(e.width+t.r)/2;break;case 135:c=e.x-e.width/2*Math.cos(Math.PI/4),r=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case 180:c=e.x+e.width/2,r=e.y,a=(e.width+t.r)/2,h=(e.height+t.r)/2;break;case-45:c=e.x+e.width/2*Math.cos(Math.PI/4),r=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4);break;case-90:c=e.x+e.width/2,r=e.y,a=(e.height+t.r)/2,h=(e.width+t.r)/2;break;case-135:c=e.x-e.width/2*Math.cos(Math.PI/4),r=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.r)/2/Math.cos(Math.PI/4),h=(e.height+t.r)/2/Math.sin(Math.PI/4)}var o=Math.abs(i-c),d=Math.abs(s-r);Math.sqrt(Math.pow(i-c,2)+Math.pow(s-r,2));return o<a&&d<h}function s(t,e){var a=void 0,h=void 0,i=void 0,s=void 0,c=void 0,r=void 0,n=t.deg%360;switch(n){case 0:i=t.x+t.width/2,s=t.y;break;case 45:case-315:i=t.x+t.width/2*Math.cos(Math.PI/4),s=t.y+t.width/2*Math.cos(Math.PI/4);break;case 90:case-270:i=t.x+t.width/2,s=t.y;break;case 135:case-225:i=t.x-t.width/2*Math.cos(Math.PI/4),s=t.y+t.width/2*Math.cos(Math.PI/4);break;case 180:case-180:i=t.x+t.width/2,s=t.y;break;case-45:case 315:i=t.x+t.width/2*Math.cos(Math.PI/4),s=t.y-t.width/2*Math.cos(Math.PI/4);break;case-90:case 270:i=t.x+t.width/2,s=t.y;break;case-135:case 225:i=t.x-t.width/2*Math.cos(Math.PI/4),s=t.y-t.width/2*Math.cos(Math.PI/4)}var o=e.deg%360;switch(o){case 0:c=e.x+e.width/2,r=e.y,a=(e.width+t.width)/2,h=(e.height+t.height)/2;break;case 45:case-315:c=e.x+e.width/2*Math.cos(Math.PI/4),r=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case 90:case-270:c=e.x+e.width/2,r=e.y,a=(e.height+t.width)/2,h=(e.width+t.height)/2;break;case 135:case-225:c=e.x-e.width/2*Math.cos(Math.PI/4),r=e.y+e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case 180:case-180:c=e.x+e.width/2,r=e.y,a=(e.width+t.width)/2,h=(e.height+t.height)/2;break;case-45:case 315:c=e.x+e.width/2*Math.cos(Math.PI/4),r=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4);break;case-90:case 270:c=e.x+e.width/2,r=e.y,a=(e.height+t.width)/2,h=(e.width+t.height)/2;break;case-135:case 225:c=e.x-e.width/2*Math.cos(Math.PI/4),r=e.y-e.width/2*Math.cos(Math.PI/4),a=(e.width+t.width)/2/Math.cos(Math.PI/4),h=(e.height+t.height)/2/Math.sin(Math.PI/4)}var d=Math.abs(i-c),l=Math.abs(s-r);Math.sqrt(Math.pow(i-c,2)+Math.pow(s-r,2));return d<a&&l<h}Object.defineProperty(t,"__esModule",{value:!0});var c=a(e),r=function(){function t(t,e){for(var a=0;a<e.length;a++){var h=e[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(e,a,h){return a&&t(e.prototype,a),h&&t(e,h),e}}(),n=document.body.clientWidth,o=document.body.clientHeight,d=function(){function t(e){h(this,t),this.players=e,this.bullets=[],this.gameSign=!1,this.bulletSpeed=3,this.bulletCount=150,this.time=0,this.initCanvas()}return r(t,[{key:"initCanvas",value:function(){this.elem=document.getElementById("battleground"),this.canvasWidth=0,this.canvasHeight=0,this.elem.width=this.canvasWidth=n,this.elem.height=this.canvasHeight=o,this.cxt=this.elem.getContext("2d")}},{key:"start",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.setDifficulty(e),this.gameSign=!0,this.time=Date.now();var a=function h(e){return!!t.gameSign&&(t.cxt.clearRect(0,0,t.canvasWidth,t.canvasHeight),t.render(),void requestAnimationFrame(h))};requestAnimationFrame(a)}},{key:"stop",value:function(){this.gameSign=!1,Array.from(this.players,function(t){return t.over()})}},{key:"setDifficulty",value:function(t){switch(+t){case 1:this.bulletSpeed=2.5,this.bulletCount=100;break;case 2:this.bulletSpeed=3,this.bulletCount=150;break;case 3:this.bulletSpeed=3.5,this.bulletCount=200;break;case 4:this.bulletSpeed=5,this.bulletCount=500}}},{key:"render",value:function(){this.renderBullets(),this.updateBullets(),this.bullets.length<this.bulletCount&&this.addBullets()}},{key:"addBullets",value:function(){var t=new c["default"](this.bulletSpeed);this.bullets.push(t)}},{key:"renderBullets",value:function(){var t=this;Array.from(this.bullets,function(e){t.cxt.fillStyle=e.color,t.cxt.beginPath(),t.cxt.arc(e.x,e.y,e.r,0,2*Math.PI,!0),t.cxt.closePath(),t.cxt.fill()})}},{key:"updateBullets",value:function(){var t=this;this.bullets=this.bullets.filter(function(e,a){if(e.x+=e.vx,e.y+=e.vy,e.d+=Math.sqrt(Math.pow(e.vx-0,2)+Math.pow(e.vy-0,2)),e.x>n||e.x<0||e.y>o||e.y<0)return!1;var h=Array.from(t.players,function(t,a){return i(e,t,a)});if(h.indexOf(!0)>-1){var c=document.querySelector(".result-wrap");return t.stop(),1===t.players.length?(c.classList.add("show-solo"),document.querySelector(".solo-time").innerHTML=(Date.now()-t.time)/1e3):(c.classList.add("show-pvp"),document.querySelector(".name").innerHTML=(h.indexOf(!0)?1:2)+"P",document.querySelector(".pvp-time").innerHTML=(Date.now()-t.time)/1e3),!1}if(t.players.length>1){var r=t.players[0],d=t.players[1],l=s(r,d);l&&(r.backDirection===d.backDirection&&(r.backDirection.indexOf("l")>-1&&(r.x<d.x?(d.deg+=180,d.backDirection=d.getBackDir(d.deg)):(r.deg+=180,r.backDirection=r.getBackDir(r.deg))),r.backDirection.indexOf("r")>-1&&(r.x<d.x?(r.deg+=180,r.backDirection=r.getBackDir(r.deg)):(d.deg+=180,d.backDirection=d.getBackDir(d.deg))),r.backDirection.indexOf("t")>-1&&(r.y<d.y?(d.deg+=180,d.backDirection=d.getBackDir(d.deg)):(r.deg+=180,r.backDirection=r.getBackDir(r.deg))),r.backDirection.indexOf("b")>-1&&(r.y<d.y?(r.deg+=180,r.backDirection=r.getBackDir(r.deg)):(d.deg+=180,d.backDirection=d.getBackDir(d.deg)))),r.collision(),d.collision())}return!0})}},{key:"getBulletPos",value:function(){var t={x:0,y:0};return Math.round(Math.random())?(t.x=Math.pow(-1,Math.ceil(2*Math.random()))*(Math.random()*n),t.y=Math.round(Math.random())||o):(t.y=Math.pow(-1,Math.ceil(2*Math.random()))*(Math.random()*o),t.x=Math.round(Math.random())||n),t}}]),t}();t["default"]=d});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhdHRsZWdyb3VuZC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJleHBvcnRzIiwiX2J1bGxldCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJpc0NRQ29sbGlzaW9uIiwiY2lyIiwib2JqMiIsIngiLCJ5IiwiY29yZVgiLCJjb3JlWSIsImJhcnJpZXJYIiwiYmFycmllclkiLCJkZWciLCJ3aWR0aCIsInIiLCJoZWlnaHQiLCJNYXRoIiwiY29zIiwiUEkiLCJzaW4iLCJkeCIsImFicyIsImR5Iiwic3FydCIsInBvdyIsImlzUVFDb2xsaXNpb24iLCJvYmoxIiwiZGVnMSIsImRlZzIiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2J1bGxldDIiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsImR3IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJkaCIsImNsaWVudEhlaWdodCIsIkJhdHRsZWdyb3VuZCIsInBsYXllcnMiLCJ0aGlzIiwiYnVsbGV0cyIsImdhbWVTaWduIiwiYnVsbGV0U3BlZWQiLCJidWxsZXRDb3VudCIsInRpbWUiLCJpbml0Q2FudmFzIiwiZWxlbSIsImdldEVsZW1lbnRCeUlkIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjeHQiLCJnZXRDb250ZXh0IiwiX3RoaXMiLCJsZXZlbCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInNldERpZmZpY3VsdHkiLCJEYXRlIiwibm93Iiwic3RlcCIsInRpbWVzdGFtcCIsImNsZWFyUmVjdCIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkFycmF5IiwiZnJvbSIsInBsYXllciIsIm92ZXIiLCJyZW5kZXJCdWxsZXRzIiwidXBkYXRlQnVsbGV0cyIsImFkZEJ1bGxldHMiLCJhQnVsbGV0IiwicHVzaCIsIl90aGlzMiIsImJ1bGxldCIsImZpbGxTdHlsZSIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsIl90aGlzMyIsImZpbHRlciIsImluZGV4IiwidngiLCJ2eSIsImQiLCJib29sIiwiaW5kZXhPZiIsInJlc3VsdCIsInF1ZXJ5U2VsZWN0b3IiLCJzdG9wIiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJIVE1MIiwiUDEiLCJQMiIsImNvbGwiLCJiYWNrRGlyZWN0aW9uIiwiZ2V0QmFja0RpciIsImNvbGxpc2lvbiIsInBvcyIsInJvdW5kIiwicmFuZG9tIiwiY2VpbCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQVEsVUFBVyxVQUFXLFNBQVVDLEVBQVNDLEdBQ2hELFlBUUEsU0FBU0MsR0FBdUJDLEdBQy9CLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQzlCRSxVQUFTRixHQUlYLFFBQVNHLEdBQWdCQyxFQUFVQyxHQUNsQyxLQUFNRCxZQUFvQkMsSUFDekIsS0FBTSxJQUFJQyxXQUFVLHFDQW1LdkIsUUFBU0MsR0FBY0MsRUFBS0MsR0FDM0IsR0FBSUMsR0FBQSxPQUFHQyxFQUFBLE9BQ0hDLEVBQVFKLEVBQUlFLEVBQ1pHLEVBQVFMLEVBQUlHLEVBQ1pHLEVBQUEsT0FDQUMsRUFBQSxPQUNBQyxFQUFNUCxFQUFLTyxJQUFNLEdBRXJCLFFBREFBLEVBQU9QLEVBQUtPLElBQU0sSUFBTSxLQUFXQSxFQUFPQSxHQUV6QyxJQUFLLEdBRUhGLEVBQVdMLEVBQUtDLEVBQUlELEVBQUtRLE1BQVEsRUFDakNGLEVBQVdOLEVBQUtFLEVBQ2hCRCxHQUFLRCxFQUFLUSxNQUFRVCxFQUFJVSxHQUFLLEVBQzNCUCxHQUFLRixF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RUFBSXlHLEVBQUd6RyxHQUNad0csRUFBR25HLEtBQU8sSUFDVm1HLEVBQUdHLGNBQWdCSCxFQUFHSSxXQUFXSixFQUFHbkcsT0FHcENvRyxFQUFHcEcsS0FBTyxJQUNWb0csRUFBR0UsY0FBZ0JGLEVBQUdHLFdBQVdILEVBQUdwRyxRQUl2Q21HLEVBQUdLLFlBQ0hKLEVBQUdJLGFBSUwsT0FBTyxPQXdFUHpFLElBQUssZUFDTFosTUFBTyxXQXJFUixHQUFJc0YsSUFDSC9HLEVBQUcsRUFDSEMsRUFBRyxFQVNKLE9BUElTLE1BQUtzRyxNQUFNdEcsS0FBS3VHLFdBQ25CRixFQUFJL0csRUFBSVUsS0FBS1EsT0FBUVIsS0FBS3dHLEtBQXFCLEVBQWhCeEcsS0FBS3VHLFlBQWtCdkcsS0FBS3VHLFNBQVd4RSxHQUN0RXNFLEVBQUk5RyxFQUFJUyxLQUFLc0csTUFBTXRHLEtBQUt1RyxXQUFhcEUsSUFFckNrRSxFQUFJOUcsRUFBSVMsS0FBS1EsT0FBUVIsS0FBS3dHLEtBQXFCLEVBQWhCeEcsS0FBS3VHLFlBQWtCdkcsS0FBS3VHLFNBQVdwRSxHQUN0RWtFLEVBQUkvRyxFQUFJVSxLQUFLc0csTUFBTXRHLEtBQUt1RyxXQUFheEUsR0FFL0JzRSxNQTBFQWhFLElBR1I1RCxHQUFBQSxXQXZQb0I0RCIsImZpbGUiOiJiYXR0bGVncm91bmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkdyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbmNvbnN0IGRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7XHJcblxyXG5pbXBvcnQgQnVsbGV0IGZyb20gJ2J1bGxldCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXR0bGVncm91bmQge1xyXG5cdGNvbnN0cnVjdG9yKHBsYXllcnMpIHtcclxuXHRcdHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcblx0XHR0aGlzLmJ1bGxldHMgPSBbXTtcclxuXHRcdHRoaXMuZ2FtZVNpZ24gPSBmYWxzZTtcclxuXHRcdHRoaXMuYnVsbGV0U3BlZWQgPSAzO1xyXG5cdFx0dGhpcy5idWxsZXRDb3VudCA9IDE1MDtcclxuXHRcdHRoaXMudGltZSA9IDA7XHJcblx0XHR0aGlzLmluaXRDYW52YXMoKTtcclxuXHR9XHJcblx0aW5pdENhbnZhcygpIHtcclxuXHRcdHRoaXMuZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXR0bGVncm91bmQnKTtcclxuXHRcdHRoaXMuY2FudmFzV2lkdGggPSAwO1xyXG5cdFx0dGhpcy5jYW52YXNIZWlnaHQgPSAwO1xyXG5cdFx0dGhpcy5lbGVtLndpZHRoID0gdGhpcy5jYW52YXNXaWR0aCA9IGR3O1xyXG5cdFx0dGhpcy5lbGVtLmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0ID0gZGg7XHJcblxyXG5cdFx0dGhpcy5jeHQgPSB0aGlzLmVsZW0uZ2V0Q29udGV4dCgnMmQnKTtcclxuXHR9XHJcblx0c3RhcnQobGV2ZWwgPSAxKSB7XHJcblx0XHR0aGlzLnNldERpZmZpY3VsdHkobGV2ZWwpO1xyXG5cdFx0dGhpcy5nYW1lU2lnbiA9IHRydWU7XHJcblx0XHR0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xyXG5cdFx0Y29uc3Qgc3RlcCA9ICh0aW1lc3RhbXApID0+IHtcclxuXHRcdFx0aWYgKCF0aGlzLmdhbWVTaWduKSByZXR1cm4gZmFsc2U7XHJcblx0XHRcdHRoaXMuY3h0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7XHJcblx0XHRcdHRoaXMucmVuZGVyKCk7XHJcblx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuXHRcdH1cclxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuXHR9XHJcblx0c3RvcCgpIHtcclxuXHRcdHRoaXMuZ2FtZVNpZ24gPSBmYWxzZTtcclxuXHRcdEFycmF5LmZyb20odGhpcy5wbGF5ZXJzLCAocGxheWVyKSA9PiBwbGF5ZXIub3ZlcigpKTtcclxuXHR9XHJcblx0c2V0RGlmZmljdWx0eShsZXZlbCkge1xyXG5cdFx0c3dpdGNoKCtsZXZlbCl7XHJcblx0XHRcdGNhc2UgMToge1xyXG5cdFx0XHRcdHRoaXMuYnVsbGV0U3BlZWQgPSAyLjU7XHJcblx0XHRcdFx0dGhpcy5idWxsZXRDb3VudCA9IDEwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRjYXNlIDI6IHtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldFNwZWVkID0gMztcclxuXHRcdFx0XHR0aGlzLmJ1bGxldENvdW50ID0gMTUwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNhc2UgMzoge1xyXG5cdFx0XHRcdHRoaXMuYnVsbGV0U3BlZWQgPSAzLjU7XHJcblx0XHRcdFx0dGhpcy5idWxsZXRDb3VudCA9IDIwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRjYXNlIDQ6IHtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldFNwZWVkID0gNTtcclxuXHRcdFx0XHR0aGlzLmJ1bGxldENvdW50ID0gNTAwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHRoaXMucmVuZGVyQnVsbGV0cygpO1xyXG5cdFx0dGhpcy51cGRhdGVCdWxsZXRzKCk7XHJcblx0XHRpZiAodGhpcy5idWxsZXRzLmxlbmd0aCA8IHRoaXMuYnVsbGV0Q291bnQpIHtcclxuXHRcdFx0dGhpcy5hZGRCdWxsZXRzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGFkZEJ1bGxldHMoKSB7XHJcblx0XHRsZXQgYUJ1bGxldCA9IG5ldyBCdWxsZXQodGhpcy5idWxsZXRTcGVlZCk7XHJcblx0XHR0aGlzLmJ1bGxldHMucHVzaChhQnVsbGV0KTtcclxuXHR9XHJcblx0cmVuZGVyQnVsbGV0cygpIHtcclxuXHRcdEFycmF5LmZyb20odGhpcy5idWxsZXRzLCAoYnVsbGV0KSA9PiB7XHJcblx0XHRcdHRoaXMuY3h0LmZpbGxTdHlsZSA9IGJ1bGxldC5jb2xvcjtcclxuXHRcdFx0dGhpcy5jeHQuYmVnaW5QYXRoKCk7XHJcblx0XHRcdHRoaXMuY3h0LmFyYyhidWxsZXQueCwgYnVsbGV0LnksIGJ1bGxldC5yLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XHJcblx0XHRcdHRoaXMuY3h0LmNsb3NlUGF0aCgpO1xyXG5cdFx0XHR0aGlzLmN4dC5maWxsKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0dXBkYXRlQnVsbGV0cygpIHtcclxuXHRcdHRoaXMuYnVsbGV0cyA9IHRoaXMuYnVsbGV0cy5maWx0ZXIoKGJ1bGxldCwgaW5kZXgpID0+IHtcclxuXHRcdFx0YnVsbGV0LnggKz0gYnVsbGV0LnZ4O1xyXG5cdFx0XHRidWxsZXQueSArPSBidWxsZXQudnk7XHJcblx0XHRcdGJ1bGxldC5kICs9IE1hdGguc3FydChNYXRoLnBvdygoYnVsbGV0LnZ4IC0gMCksIDIpICsgTWF0aC5wb3coKGJ1bGxldC52eSAtIDApLCAyKSk7XHJcblx0XHRcdGlmIChidWxsZXQueCA+IGR3IHx8IGJ1bGxldC54IDwgMCB8fCBidWxsZXQueSA+IGRoIHx8IGJ1bGxldC55IDwgMCkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgYm9vbCA9IEFycmF5LmZyb20odGhpcy5wbGF5ZXJzLCAocGxheWVyLCBpbmRleCkgPT4gaXNDUUNvbGxpc2lvbihidWxsZXQsIHBsYXllciwgaW5kZXgpKTtcclxuXHJcblx0XHRcdGlmIChib29sLmluZGV4T2YodHJ1ZSkgPiAtMSkge1xyXG5cdFx0XHRcdGxldCByZXN1bHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzdWx0LXdyYXAnKTtcclxuXHRcdFx0XHR0aGlzLnN0b3AoKTtcclxuXHRcdFx0XHRpZiAodGhpcy5wbGF5ZXJzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LmNsYXNzTGlzdC5hZGQoJ3Nob3ctc29sbycpO1xyXG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbG8tdGltZScpLmlubmVySFRNTCA9ICgoRGF0ZS5ub3coKSAtIHRoaXMudGltZSkgLyAxMDAwKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0LmNsYXNzTGlzdC5hZGQoJ3Nob3ctcHZwJyk7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmFtZScpLmlubmVySFRNTCA9IChib29sLmluZGV4T2YodHJ1ZSkgPyAxIDogMikgKyAnUCc7XHJcblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHZwLXRpbWUnKS5pbm5lckhUTUwgPSAoKERhdGUubm93KCkgLSB0aGlzLnRpbWUpIC8gMTAwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHRoaXMucGxheWVycy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdFx0bGV0IFAxID0gdGhpcy5wbGF5ZXJzWzBdO1xyXG5cdFx0XHRcdGxldCBQMiA9IHRoaXMucGxheWVyc1sxXTtcclxuXHRcdFx0XHRsZXQgY29sbCA9IGlzUVFDb2xsaXNpb24oUDEsIFAyKTtcclxuXHRcdFx0XHRpZiAoY29sbCkge1xyXG5cdFx0XHRcdFx0aWYgKFAxLmJhY2tEaXJlY3Rpb24gPT09IFAyLmJhY2tEaXJlY3Rpb24pIHtcclxuXHRcdFx0XHRcdFx0aWYoUDEuYmFja0RpcmVjdGlvbi5pbmRleE9mKCdsJykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmKFAxLnggPCBQMi54KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMi5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuYmFja0RpcmVjdGlvbiA9IFAyLmdldEJhY2tEaXIoUDIuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMS5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuYmFja0RpcmVjdGlvbiA9IFAxLmdldEJhY2tEaXIoUDEuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoUDEuYmFja0RpcmVjdGlvbi5pbmRleE9mKCdyJykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmKFAxLnggPCBQMi54KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMS5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuYmFja0RpcmVjdGlvbiA9IFAxLmdldEJhY2tEaXIoUDEuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMi5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuYmFja0RpcmVjdGlvbiA9IFAyLmdldEJhY2tEaXIoUDIuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoUDEuYmFja0RpcmVjdGlvbi5pbmRleE9mKCd0JykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmKFAxLnkgPCBQMi55KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMi5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuYmFja0RpcmVjdGlvbiA9IFAyLmdldEJhY2tEaXIoUDIuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMS5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuYmFja0RpcmVjdGlvbiA9IFAxLmdldEJhY2tEaXIoUDEuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoUDEuYmFja0RpcmVjdGlvbi5pbmRleE9mKCdiJykgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmKFAxLnkgPCBQMi55KSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMS5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDEuYmFja0RpcmVjdGlvbiA9IFAxLmdldEJhY2tEaXIoUDEuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRQMi5kZWcgKz0gMTgwO1xyXG5cdFx0XHRcdFx0XHRcdFx0UDIuYmFja0RpcmVjdGlvbiA9IFAyLmdldEJhY2tEaXIoUDIuZGVnKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFAxLmNvbGxpc2lvbigpO1xyXG5cdFx0XHRcdFx0UDIuY29sbGlzaW9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRnZXRCdWxsZXRQb3MoKSB7XHJcblx0XHRsZXQgcG9zID0ge1xyXG5cdFx0XHR4OiAwLFxyXG5cdFx0XHR5OiAwLFxyXG5cdFx0fVxyXG5cdFx0aWYgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkpIHtcclxuXHRcdFx0cG9zLnggPSBNYXRoLnBvdygtMSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAyKSkgKiAoTWF0aC5yYW5kb20oKSAqIGR3KTtcclxuXHRcdFx0cG9zLnkgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpIHx8IGRoO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cG9zLnkgPSBNYXRoLnBvdygtMSwgTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAyKSkgKiAoTWF0aC5yYW5kb20oKSAqIGRoKTtcclxuXHRcdFx0cG9zLnggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpIHx8IGR3O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHBvcztcclxuXHR9XHJcbn07XHJcblxyXG4vLyDliKTmlq3mmK/lkKbnorDmkp5cclxuZnVuY3Rpb24gaXNDUUNvbGxpc2lvbihjaXIsIG9iajIpIHtcclxuXHRsZXQgeCwgeTtcclxuXHRsZXQgY29yZVggPSBjaXIueDtcclxuXHRsZXQgY29yZVkgPSBjaXIueTtcclxuXHRsZXQgYmFycmllclg7XHJcblx0bGV0IGJhcnJpZXJZO1xyXG5cdGxldCBkZWcgPSBvYmoyLmRlZyAlIDE4MDtcclxuXHRkZWcgPSAob2JqMi5kZWcgLyAxODAgJSAyKSA/ICgtMSAqIGRlZykgOiBkZWc7XHJcblx0c3dpdGNoIChkZWcpIHtcclxuXHRcdGNhc2UgMDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDI7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSA0NTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgKyBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBjaXIucikgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBjaXIucikgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDkwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMjtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueTtcclxuXHRcdFx0XHR4ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIud2lkdGggKyBjaXIucikgLyAyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDEzNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgKyBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBjaXIucikgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBjaXIucikgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDE4MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDI7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtNDU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgY2lyLnIpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgY2lyLnIpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtOTA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi5oZWlnaHQgKyBjaXIucikgLyAyO1xyXG5cdFx0XHRcdHkgPSAob2JqMi53aWR0aCArIGNpci5yKSAvIDI7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTEzNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgLSBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBjaXIucikgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBjaXIucikgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0fVxyXG5cdGxldCBkeCA9IE1hdGguYWJzKGNvcmVYIC0gYmFycmllclgpO1xyXG5cdGxldCBkeSA9IE1hdGguYWJzKGNvcmVZIC0gYmFycmllclkpO1xyXG5cdGxldCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KChjb3JlWCAtIGJhcnJpZXJYKSwgMikgKyBNYXRoLnBvdygoY29yZVkgLSBiYXJyaWVyWSksIDIpKTtcclxuXHRpZiAoZHggPCB4ICYmIGR5IDwgeSkge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNRUUNvbGxpc2lvbihvYmoxLCBvYmoyKSB7XHJcblx0bGV0IHgsIHk7XHJcblx0bGV0IGNvcmVYO1xyXG5cdGxldCBjb3JlWTtcclxuXHRsZXQgYmFycmllclg7XHJcblx0bGV0IGJhcnJpZXJZO1xyXG5cdGxldCBkZWcxID0gb2JqMS5kZWcgJSAzNjA7XHJcblx0c3dpdGNoIChkZWcxKSB7XHJcblx0XHRjYXNlIDA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb3JlWCA9IG9iajEueCArIG9iajEud2lkdGggLyAyO1xyXG5cdFx0XHRcdGNvcmVZID0gb2JqMS55O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDQ1OlxyXG5cdFx0Y2FzZSAtMzE1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggKyBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueSArIG9iajEud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDkwOlxyXG5cdFx0Y2FzZSAtMjcwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggKyBvYmoxLndpZHRoIC8gMjtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAxMzU6XHJcblx0XHRjYXNlIC0yMjU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRjb3JlWCA9IG9iajEueCAtIG9iajEud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGNvcmVZID0gb2JqMS55ICsgb2JqMS53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgMTgwOlxyXG5cdFx0Y2FzZSAtMTgwOlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggKyBvYmoxLndpZHRoIC8gMjtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtNDU6XHJcblx0XHRjYXNlIDMxNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54ICsgb2JqMS53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnkgLSBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtOTA6XHJcblx0XHRjYXNlIDI3MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNvcmVYID0gb2JqMS54ICsgb2JqMS53aWR0aCAvIDI7XHJcblx0XHRcdFx0Y29yZVkgPSBvYmoxLnk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgLTEzNTpcclxuXHRcdGNhc2UgMjI1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y29yZVggPSBvYmoxLnggLSBvYmoxLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRjb3JlWSA9IG9iajEueSAtIG9iajEud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0fVxyXG5cdGxldCBkZWcyID0gb2JqMi5kZWcgJSAzNjA7XHJcblx0c3dpdGNoIChkZWcyKSB7XHJcblx0XHRjYXNlIDA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIG9iajEud2lkdGgpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgb2JqMS5oZWlnaHQpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSA0NTpcclxuXHRcdGNhc2UgLTMxNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgKyBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBvYmoxLndpZHRoKSAvIDIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIG9iajEuaGVpZ2h0KSAvIDIgLyBNYXRoLnNpbihNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdGNhc2UgOTA6XHJcblx0XHRjYXNlIC0yNzA6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCArIG9iajIud2lkdGggLyAyO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55O1xyXG5cdFx0XHRcdHggPSAob2JqMi5oZWlnaHQgKyBvYmoxLndpZHRoKSAvIDI7XHJcblx0XHRcdFx0eSA9IChvYmoyLndpZHRoICsgb2JqMS5oZWlnaHQpIC8gMjtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAxMzU6XHJcblx0XHRjYXNlIC0yMjU6XHJcblx0XHRcdHtcclxuXHRcdFx0XHRiYXJyaWVyWCA9IG9iajIueCAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJhcnJpZXJZID0gb2JqMi55ICsgb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgb2JqMS53aWR0aCkgLyAyIC8gTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBvYmoxLmhlaWdodCkgLyAyIC8gTWF0aC5zaW4oTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIDE4MDpcclxuXHRcdGNhc2UgLTE4MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDI7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnk7XHJcblx0XHRcdFx0eCA9IChvYmoyLndpZHRoICsgb2JqMS53aWR0aCkgLyAyO1xyXG5cdFx0XHRcdHkgPSAob2JqMi5oZWlnaHQgKyBvYmoxLmhlaWdodCkgLyAyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIC00NTpcclxuXHRcdGNhc2UgMzE1OlxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YmFycmllclggPSBvYmoyLnggKyBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRiYXJyaWVyWSA9IG9iajIueSAtIG9iajIud2lkdGggLyAyICogTWF0aC5jb3MoTWF0aC5QSSAvIDQpO1xyXG5cdFx0XHRcdHggPSAob2JqMi53aWR0aCArIG9iajEud2lkdGgpIC8gMiAvIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR5ID0gKG9iajIuaGVpZ2h0ICsgb2JqMS5oZWlnaHQpIC8gMiAvIE1hdGguc2luKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0Y2FzZSAtOTA6XHJcblx0XHRjYXNlIDI3MDpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54ICsgb2JqMi53aWR0aCAvIDI7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnk7XHJcblx0XHRcdFx0eCA9IChvYmoyLmhlaWdodCArIG9iajEud2lkdGgpIC8gMjtcclxuXHRcdFx0XHR5ID0gKG9iajIud2lkdGggKyBvYmoxLmhlaWdodCkgLyAyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRjYXNlIC0xMzU6XHJcblx0XHRjYXNlIDIyNTpcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJhcnJpZXJYID0gb2JqMi54IC0gb2JqMi53aWR0aCAvIDIgKiBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YmFycmllclkgPSBvYmoyLnkgLSBvYmoyLndpZHRoIC8gMiAqIE1hdGguY29zKE1hdGguUEkgLyA0KTtcclxuXHRcdFx0XHR4ID0gKG9iajIud2lkdGggKyBvYmoxLndpZHRoKSAvIDIgLyBNYXRoLmNvcyhNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0eSA9IChvYmoyLmhlaWdodCArIG9iajEuaGVpZ2h0KSAvIDIgLyBNYXRoLnNpbihNYXRoLlBJIC8gNCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHR9XHJcblx0bGV0IGR4ID0gTWF0aC5hYnMoY29yZVggLSBiYXJyaWVyWCk7XHJcblx0bGV0IGR5ID0gTWF0aC5hYnMoY29yZVkgLSBiYXJyaWVyWSk7XHJcblx0bGV0IGQgPSBNYXRoLnNxcnQoTWF0aC5wb3coKGNvcmVYIC0gYmFycmllclgpLCAyKSArIE1hdGgucG93KChjb3JlWSAtIGJhcnJpZXJZKSwgMikpO1xyXG5cdGlmIChkeCA8IHggJiYgZHkgPCB5KSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
