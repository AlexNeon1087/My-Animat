!function(r,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var i={exports:{}};t(i.exports),r.canvas=i.exports}}(this,function(r){"use strict";function t(r){if(Array.isArray(r)){for(var t=0,i=Array(r.length);t<r.length;t++)i[t]=r[t];return i}return Array.from(r)}function i(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var e=function(){function r(r,t){var i=[],e=!0,o=!1,a=void 0;try{for(var n,s=r[Symbol.iterator]();!(e=(n=s.next()).done)&&(i.push(n.value),!t||i.length!==t);e=!0);}catch(r){o=!0,a=r}finally{try{!e&&s.return&&s.return()}finally{if(o)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function r(r,t){for(var i=0;i<t.length;i++){var e=t[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}}(),a=function(){function r(){i(this,r),this.canvas=document.getElementById("canvas"),this.cxt=canvas.getContext("2d"),this.width=this.canvas.width=this.canvas.offsetWidth,this.height=this.canvas.height=this.canvas.offsetHeight,this.bounds=this.canvas.getBoundingClientRect(),this.ball_count=5,this.line_range=150,this.r_range=[100,200],this.color=[[0,64,121],[80,5,121]],this.period=10,this.opacity=[.3,.8],this.speed=[-2,2],this.balls=[],this.clickHandle=this.clickHandle.bind(this),this.bindEvent(),this.start()}return o(r,[{key:"bindEvent",value:function(){this.canvas.addEventListener("click",this.clickHandle,!1)}},{key:"unbindEvent",value:function(){this.canvas.removeEventListener("click",this.clickHandle,!1)}},{key:"clickHandle",value:function(r){if(this.isAnimate)return this.isAnimate=!1;this.start();r.clientX,this.bounds.left,r.clientY,this.bounds.top}},{key:"start",value:function(){var r=this;if(this.isAnimate)return!1;for(var t=0;t<this.ball_count;t++)this.addBall();this.isAnimate=!0;var i=function t(){if(!r.isAnimate)return!1;r.render(),r.update(),requestAnimationFrame(t)};requestAnimationFrame(i)}},{key:"getColorList",value:function(r){for(var t=this,i=[this.color[1][0]-this.color[0][0],this.color[1][1]-this.color[0][1],this.color[1][2]-this.color[0][2]],e=Math.max(Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2]))*r,o=i.map(function(r){return r/e}),a=[],n=0;n<e;n++)!function(r){a.push(o.map(function(i,e){return t.color[0][e]+i*r}))}(n);return a}},{key:"addBall",value:function(){var r={vx:this.getRandomNumber(this.speed),vy:this.getRandomNumber(this.speed),opacity:this.getRandomNumber(this.opacity),freq:this.period,type:~~this.getRandomNumber([0,3]),cur_i:0,reverse:!1};if(r.r=(1-r.opacity)*(this.r_range[1]-this.r_range[0])+this.r_range[0],r.x=this.getRandomNumber([r.r,this.width-r.r]),r.y=this.getRandomNumber([r.r,this.height-r.r]),r.ColorList=this.getColorList(r.freq),this.isOverlap(r))return this.addBall();var i=this.color[0];switch(r.color=[].concat(t(i)),r.type){case 0:break;case 1:r.empty={r:this.getRandomNumber([r.r/2,r.r/4*3])};break;case 2:r.empty={r:this.getRandomNumber([r.r/2,r.r/4*3])},r.son={r:this.getRandomNumber([r.empty.r/2,r.empty.r/4*3]),color:[].concat(t(r.color))}}this.balls.push(r)}},{key:"isOverlap",value:function(r){return!this.balls.every(function(t){return!(Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))<=r.r+t.r)})}},{key:"addMirrorBall",value:function(r,t){var i={};for(var e in r)void 0!==t[e]?i[e]=t[e]:i[e]=r[e];return i}},{key:"render",value:function(r){var t=this;this.cxt.clearRect(0,0,this.width,this.height),Array.from(this.balls,function(r){t.renderBall(r),r.x<r.r?r.mirror||(r.mirror=t.addMirrorBall(r,{x:r.x+t.width,mirror:null})):r.x>t.width-r.r?r.mirror||(r.mirror=t.addMirrorBall(r,{x:r.x-t.width,mirror:null})):r.y<r.r?r.mirror||(r.mirror=t.addMirrorBall(r,{y:r.y+t.height,mirror:null})):r.y>t.height-r.r?r.mirror||(r.mirror=t.addMirrorBall(r,{y:r.y-t.height,mirror:null})):r.mirror&&(r.mirror=null),r.mirror&&t.renderBall(r.mirror,r)})}},{key:"renderBall",value:function(r,t){var i=this,e=r.x,o=r.y;r.isCrash&&(r.color=[0,0,0]),this.renderArc(e,o,r.r,this.getRGBA(r.color,r.opacity)),this.cxt.globalCompositeOperation="destination-out",r.type>0&&this.renderArc(e,o,r.empty.r,"#fff"),this.cxt.globalCompositeOperation="source-over",2===r.type&&this.renderArc(e,o,r.son.r,this.getRGBA(r.son.color,r.opacity)),Array.from(this.balls,function(a){if(r===a)return!1;var n=Math.sqrt(Math.pow(e-a.x,2)+Math.pow(o-a.y,2));if(n<i.line_range&&n>r.r+a.r){var s=i.cxt.createLinearGradient(e,o,a.x,a.y);1===r.type?(s.addColorStop(0,i.getRGBA(r.color,1-n/i.line_range)),s.addColorStop(r.empty.r/n,i.getRGBA(r.color,1-n/i.line_range)),s.addColorStop(r.empty.r/n,"transparent")):2===r.type?(s.addColorStop(0,"transparent"),s.addColorStop(r.son.r/n,"transparent"),s.addColorStop(r.son.r/n,i.getRGBA(r.color,1-n/i.line_range)),s.addColorStop(r.empty.r/n,i.getRGBA(r.color,1-n/i.line_range)),s.addColorStop(r.empty.r/n,"transparent")):s.addColorStop(0,"transparent"),s.addColorStop(r.r/n,"transparent"),s.addColorStop(r.r/n,i.getRGBA(r.color,1-n/i.line_range)),s.addColorStop(1-a.r/n,i.getRGBA(a.color,1-n/i.line_range)),s.addColorStop(1-a.r/n,"transparent"),s.addColorStop(1,"transparent"),i.cxt.strokeStyle=s,i.renderLine(e,o,a.x,a.y)}else n<r.r+a.r&&!a.isCrash&&!r.isCrash&&(r.isCrash=!0,a.isCrash=!0,i.crashHandle(r,a),t&&(t.isCrash=!0,t.vx=r.vx,t.vy=r.vy),r.mirror&&(r.mirror.isCrash=!0,r.mirror.vx=r.vx,r.mirror.vy=r.vy));if(t&&a.mirror){Math.sqrt(Math.pow(e-a.mirror.x,2)+Math.pow(o-a.mirror.y,2))<r.r+a.r&&r.isCrash&&!a.mirror.isCrash&&(r.isCrash=!0,a.mirror.isCrash=!0,i.crashHandle(r,a.mirror),a.isCrash=!0,a.vx=a.mirror.vx,a.vy=a.mirror.vy,t.isCrash=!0,t.vx=r.vx,t.vy=r.vy)}})}},{key:"crashHandle",value:function(r,t){var i=Math.atan2(t.y-r.y,t.x-r.x),e=Math.sqrt(r.vx*r.vx+r.vy*r.vy),o=Math.sqrt(t.vx*t.vx+t.vy*t.vy),a=Math.atan2(r.vy,r.vx),n=Math.atan2(t.vy,t.vx),s=e*Math.cos(a-i),h=e*Math.sin(a-i),l=o*Math.cos(n-i),c=o*Math.sin(n-i),u=l,d=h,v=s,y=c;r.vx=Math.cos(i)*u+Math.cos(i+Math.PI/2)*d,r.vy=Math.sin(i)*u+Math.sin(i+Math.PI/2)*d,t.vx=Math.cos(i)*v+Math.cos(i+Math.PI/2)*y,t.vy=Math.sin(i)*v+Math.sin(i+Math.PI/2)*y}},{key:"update",value:function(){var r=this;this.balls=this.balls.map(function(i){return i.x<-i.r?i.mirror:i.x>r.width+i.r?i.mirror:i.y<-i.r?i.mirror:i.y>r.height+i.r?i.mirror:(i.x+=i.vx,i.y+=i.vy,i.color=i.color.map(function(r,t){return i.cur_i++,i.cur_i===i.ColorList.length&&(i.cur_i=0,i.reverse=!i.reverse),i.ColorList[i.reverse?i.ColorList.length-i.cur_i-1:i.cur_i][t]}),2===i.type&&(i.son.color=[].concat(t(i.color))),i.mirror&&(i.mirror.x+=i.mirror.vx,i.mirror.y+=i.mirror.vy,i.mirror.isCrash&&(i.mirror.isCrash=!1)),i.isCrash&&(i.isCrash=!1),i)})}},{key:"getRGBA",value:function(r,t){return"rgba("+~~r[0]+", "+~~r[1]+", "+~~r[2]+", "+t+")"}},{key:"getRandomNumber",value:function(r,t){var i=e(r,2),o=i[0],a=i[1];return Math.random()*(a-o)+o}},{key:"renderArc",value:function(r,t,i,e){this.cxt.fillStyle=e,this.cxt.beginPath(),this.cxt.arc(r,t,i,0,2*Math.PI,!0),this.cxt.closePath(),this.cxt.fill()}},{key:"renderLine",value:function(r,t,i,e){this.cxt.beginPath(),this.cxt.moveTo(r,t),this.cxt.lineTo(i,e),this.cxt.closePath(),this.cxt.stroke()}},{key:"renderTri",value:function(r,t,i){this.cxt.beginPath(),this.cxt.moveTo(r.x,r.y),this.cxt.lineTo(t.x,t.y),this.cxt.lineTo(i.x,i.y),this.cxt.lineTo(r.x,r.y),this.cxt.closePath(),this.cxt.stroke()}}]),r}();r.default=a});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhcy5qcyJdLCJuYW1lcyI6WyJDYW52YXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN4dCIsImdldENvbnRleHQiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmFsbF9jb3VudCIsImxpbmVfcmFuZ2UiLCJyX3JhbmdlIiwiY29sb3IiLCJwZXJpb2QiLCJvcGFjaXR5Iiwic3BlZWQiLCJiYWxscyIsImNsaWNrSGFuZGxlIiwiYmluZCIsImJpbmRFdmVudCIsInN0YXJ0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwiaXNBbmltYXRlIiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiX3RoaXMiLCJpIiwiYWRkQmFsbCIsInN0ZXAiLCJyZW5kZXIiLCJ1cGRhdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmcmVxIiwiX3RoaXMyIiwiQ29sb3JEaXMiLCJDb2xvckxlbmd0aCIsIk1hdGgiLCJtYXgiLCJhYnMiLCJDb2xvckNoYW5nZSIsIm1hcCIsImMiLCJDb2xvckxpc3QiLCJwdXNoIiwiaW5kZXgiLCJiYWxsIiwidngiLCJnZXRSYW5kb21OdW1iZXIiLCJ2eSIsInR5cGUiLCJjdXJfaSIsInJldmVyc2UiLCJyIiwieCIsImdldENvbG9yTGlzdCIsImlzT3ZlcmxhcCIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheSIsImVtcHR5IiwiZXZlcnkiLCJiIiwic3FydCIsInBvdyIsInkiLCJuZXdCYWxsIiwia2V5IiwidW5kZWZpbmVkIiwib2JqIiwibXgiLCJwcm9ncmVzcyIsIl90aGlzMyIsImNsZWFyUmVjdCIsIkFycmF5IiwiZnJvbSIsInJlbmRlckJhbGwiLCJtaXJyb3IiLCJhZGRNaXJyb3JCYWxsIiwicGFyZW50IiwiX3RoaXM0IiwiaXNDcmFzaCIsInJlbmRlckFyYyIsImdldFJHQkEiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJzb24iLCJkIiwiZyIsImFkZENvbG9yU3RvcCIsInN0cm9rZVN0eWxlIiwiY3Jhc2hIYW5kbGUiLCJiMSIsImRlZyIsImF0YW4yIiwiYjIiLCJzcGVlZDEiLCJzcGVlZDIiLCJkaXIxIiwidngxIiwiY29zIiwidnkxIiwic2luIiwiZGlyMiIsInZ5MiIsImZ4MSIsInZ4MiIsImZ4MiIsImZ5MiIsIlBJIiwiZnkxIiwiX3RoaXM1IiwibiIsImxlbmd0aCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiX3JlZjIiLCJfc2xpY2VkVG9BcnJheSIsIl9yZWYiLCJtaW4iLCJmaWxsU3R5bGUiLCJyZW5kZXJMaW5lIiwiY2xvc2VQYXRoIiwiZmlsbCIsInkyIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwieDEiLCJ5MSIsImxpbmVUbyIsImNvb3JkMSIsImNvb3JkMiIsImNvb3JkMyIsInN0cm9rZSJdLCJtYXBwaW5ncyI6IjJuQ0FBcUJBLGFBQ3BCLFFBQUFBLEtBQWNDLEVBQUFDLEtBQUFGLEdBQ1hFLEtBQUtDLE9BQVNDLFNBQVNDLGVBQWUsVUFDdENILEtBQUtJLElBQU1ILE9BQU9JLFdBQVcsTUFDN0JMLEtBQUtNLE1BQVFOLEtBQUtDLE9BQU9LLE1BQVFOLEtBQUtDLE9BQU9NLFlBQzdDUCxLQUFLUSxPQUFTUixLQUFLQyxPQUFPTyxPQUFTUixLQUFLQyxPQUFPUSxhQUMvQ1QsS0FBS1UsT0FBU1YsS0FBS0MsT0FBT1Usd0JBRTFCWCxLQUFLWSxXQUFhLEVBQ2xCWixLQUFLYSxXQUFhLElBQ2xCYixLQUFLYyxTQUFXLElBQUssS0FDckJkLEtBQUtlLFFBQVUsRUFBRyxHQUFJLE1BQU8sR0FBSSxFQUFHLE1BQ3BDZixLQUFLZ0IsT0FBUyxHQUNkaEIsS0FBS2lCLFNBQVcsR0FBSyxJQUNyQmpCLEtBQUtrQixRQUFVLEVBQUcsR0FDbEJsQixLQUFLbUIsU0FFTG5CLEtBQUtvQixZQUFj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eUIwQixFQUFBLEdBQXpCMUIsRUFBeUIwQixFQUFBLEVBQzNCM0IsT0FBQUEsTUFBRUMsVUFBYWpELEVBQUk4RSxHQUFTQSxvQ0FHNUI5RCxFQUFBVSxFQUFBWCxFQUFLdkQsR0FDTEosS0FBQUksSUFBQXVILFVBQUtDLEVBR0x4RSxLQUFBQSxJQUFBQSxZQUNBZSxLQUFBQSxJQUFBQSxJQUFFbUIsRUFBQUEsRUFBRjNCLEVBQVksRUFBWixFQUFBaEIsS0FBQXNFLElBQUEsR0FDQWpILEtBQUFJLElBQUF5SCxZQUVBN0gsS0FBQUksSUFBQTBILDBDQUdFMUMsRUFBQUEsRUFBTzdCLEVBQVB3RSxHQUNEL0gsS0FBQUksSUFBQTRILFlBcUhMaEksS0FBS0ksSUFBSTZILE9BQU9DLEVBQUlDLEdBbkhoQm5JLEtBQUFJLElBQUFnSSxPQUFJaEYsRUFBSzhCLEdBQ1A5QixLQUFBQSxJQUFBQSxZQUVBQSxLQUFBQSxJQUFBQSwyQ0F1SEVpRixFQUFRQyxFQUFRQyxHQW5IdEJ2SSxLQUFBSSxJQUFBNEgsWUFDRWhJLEtBQUFJLElBQUE2SCxPQUFJdEMsRUFBU3ZCLEVBQUxpRSxFQUFlaEUsR0FxSDNCckUsS0FBS0ksSUFBSWdJLE9BQU9FLEVBQU8xRSxFQUFHMEUsRUFBT2hFLEdBbkg3QnRFLEtBQUFJLElBQUFnSSxPQUFJekMsRUFBSy9CLEVBQVNPLEVBQVFmLEdBQ3hCQSxLQUFBQSxJQUFBQSxPQUFLa0MsRUFBTDFCLEVBQWV5RSxFQUFmL0QsR0FDQUgsS0FBQUEsSUFBQUEsWUFFQW5FLEtBQUFJLElBQUFvSSw0QkFsUVcxSSIsImZpbGUiOiJjYW52YXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FudmFzJylcclxuICAgIHRoaXMuY3h0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgIHRoaXMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLm9mZnNldFdpZHRoXHJcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLm9mZnNldEhlaWdodFxyXG4gICAgdGhpcy5ib3VuZHMgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cclxuICAgIHRoaXMuYmFsbF9jb3VudCA9IDUgICAgICAgLy8g5oC75Liq5pWwXHJcbiAgICB0aGlzLmxpbmVfcmFuZ2UgPSAxNTAgICAgIC8vIOi/nue6v+iMg+WbtFxyXG4gICAgdGhpcy5yX3JhbmdlID0gWzEwMCwgMjAwXSAgIC8vIOWNiuW+hOiMg+WbtFxyXG4gICAgdGhpcy5jb2xvciA9IFtbMCwgNjQsIDEyMV0sIFs4MCwgNSwgMTIxXV0gLy8g6aKc6ImyW1tyLCBnLCBiXSwgLi5dXHJcbiAgICB0aGlzLnBlcmlvZCA9IDEwICAvLyDpopzoibLlkbzlkLjlkajmnJ9cclxuICAgIHRoaXMub3BhY2l0eSA9IFswLjMsIDAuOF0gICAvLyDpgI/mmI7luqbojIPlm7RcclxuICAgIHRoaXMuc3BlZWQgPSBbLTIsIDJdICAgIC8vIOmAn+W6puiMg+WbtFxyXG4gICAgdGhpcy5iYWxscyA9IFtdXHJcblxyXG4gICAgdGhpcy5jbGlja0hhbmRsZSA9IHRoaXMuY2xpY2tIYW5kbGUuYmluZCh0aGlzKVxyXG4gICAgdGhpcy5iaW5kRXZlbnQoKVxyXG4gICAgdGhpcy5zdGFydCgpXHJcblx0fVxyXG4gIC8vICDnu5Hlrprkuovku7ZcclxuICBiaW5kRXZlbnQoKSB7XHJcbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGUsIGZhbHNlKVxyXG4gIH1cclxuICAvLyAg56e76Zmk5LqL5Lu2XHJcbiAgdW5iaW5kRXZlbnQoKSB7XHJcbiAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGUsIGZhbHNlKVxyXG4gIH1cclxuICAvLyAg54K55Ye76I635Y+W6byg5qCH5L2N572uXHJcbiAgY2xpY2tIYW5kbGUoZSkge1xyXG4gICAgaWYgKHRoaXMuaXNBbmltYXRlKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzQW5pbWF0ZSA9IGZhbHNlXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5zdGFydCgpXHJcbiAgICB9XHJcbiAgICBsZXQgbXggPSBlLmNsaWVudFggLSB0aGlzLmJvdW5kcy5sZWZ0XHJcbiAgICBsZXQgbXkgPSBlLmNsaWVudFkgLSB0aGlzLmJvdW5kcy50b3BcclxuICAgIC8vIHRoaXMuYWRkV29yayh7IHg6IG14LCB5OiBteSB9KVxyXG4gIH1cclxuICAvLyAg5Yqo55S75byA5aeLXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBpZiAodGhpcy5pc0FuaW1hdGUpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYmFsbF9jb3VudDsgaSsrKSB7XHJcbiAgICAgIHRoaXMuYWRkQmFsbCgpXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pc0FuaW1hdGUgPSB0cnVlXHJcblxyXG4gICAgY29uc3Qgc3RlcCA9ICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmlzQW5pbWF0ZSkgcmV0dXJuIGZhbHNlXHJcbiAgICAgIHRoaXMucmVuZGVyKClcclxuICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcClcclxuICAgIH1cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKVxyXG4gIH1cclxuICAvLyAg5b6X5Yiw6aKc6Imy5riQ5Y+Y5pWw57uEXHJcbiAgZ2V0Q29sb3JMaXN0KGZyZXEpIHtcclxuICAgIC8vICDpopzoibLlt67lgLxbciwgZywgYl1cclxuICAgIGxldCBDb2xvckRpcyA9IFt0aGlzLmNvbG9yWzFdWzBdIC0gdGhpcy5jb2xvclswXVswXSwgdGhpcy5jb2xvclsxXVsxXSAtIHRoaXMuY29sb3JbMF1bMV0sIHRoaXMuY29sb3JbMV1bMl0gLSB0aGlzLmNvbG9yWzBdWzJdXVxyXG5cclxuICAgIC8vICDpopzoibLlt67mnIDlpKfnmoTnu53lr7nlgLxcclxuICAgIGxldCBDb2xvckxlbmd0aCA9IE1hdGgubWF4KE1hdGguYWJzKENvbG9yRGlzWzBdKSwgTWF0aC5hYnMoQ29sb3JEaXNbMV0pLCBNYXRoLmFicyhDb2xvckRpc1syXSkpICogZnJlcVxyXG5cclxuICAgIC8vICDpopzoibLlj5jljJbns7vmlbBcclxuICAgIGxldCBDb2xvckNoYW5nZSA9IENvbG9yRGlzLm1hcCgoYykgPT4gYyAvIENvbG9yTGVuZ3RoKVxyXG5cclxuICAgIGxldCBDb2xvckxpc3QgPSBbXVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ29sb3JMZW5ndGg7IGkrKykge1xyXG4gICAgICBDb2xvckxpc3QucHVzaChDb2xvckNoYW5nZS5tYXAoKGMsIGluZGV4KSA9PiAodGhpcy5jb2xvclswXVtpbmRleF0gKyBjICogaSkpKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBDb2xvckxpc3RcclxuICB9XHJcbiAgLy8gIOWinuWKoOS4gOS4queQg1xyXG4gIGFkZEJhbGwoKSB7XHJcbiAgICBsZXQgYmFsbCA9IHtcclxuICAgICAgdng6IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKHRoaXMuc3BlZWQpLFxyXG4gICAgICB2eTogdGhpcy5nZXRSYW5kb21OdW1iZXIodGhpcy5zcGVlZCksXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKHRoaXMub3BhY2l0eSksXHJcbiAgICAgIGZyZXE6IHRoaXMucGVyaW9kLFxyXG4gICAgICB0eXBlOiB+fnRoaXMuZ2V0UmFuZG9tTnVtYmVyKFswLCAzXSksXHJcbiAgICAgIGN1cl9pOiAwLFxyXG4gICAgICByZXZlcnNlOiBmYWxzZVxyXG4gICAgfVxyXG4gICAgYmFsbC5yID0gKDEgLSBiYWxsLm9wYWNpdHkpICogKHRoaXMucl9yYW5nZVsxXSAtIHRoaXMucl9yYW5nZVswXSkgKyB0aGlzLnJfcmFuZ2VbMF1cclxuICAgIGJhbGwueCA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKFtiYWxsLnIsIHRoaXMud2lkdGggLSBiYWxsLnJdKSxcclxuICAgIGJhbGwueSA9IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKFtiYWxsLnIsIHRoaXMuaGVpZ2h0IC0gYmFsbC5yXSksXHJcbiAgICBiYWxsLkNvbG9yTGlzdCA9IHRoaXMuZ2V0Q29sb3JMaXN0KGJhbGwuZnJlcSlcclxuXHJcbiAgICBpZiAodGhpcy5pc092ZXJsYXAoYmFsbCkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYWRkQmFsbCgpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbG9yID0gdGhpcy5jb2xvclswXVxyXG4gICAgYmFsbC5jb2xvciA9IFsuLi5jb2xvcl1cclxuXHJcbiAgICAvLyAg6ZqP5py65LiA56eN5qih5byPWzA65a6e5b+D55CDLCAxOuWchueOrywgMjrlj4znjq9dXHJcbiAgICBzd2l0Y2goYmFsbC50eXBlKSB7XHJcbiAgICAgIGNhc2UgMDogYnJlYWs7XHJcbiAgICAgIGNhc2UgMTogYmFsbC5lbXB0eSA9IHtcclxuICAgICAgICAgIHI6IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKFtiYWxsLnIgLyAyLCBiYWxsLnIgLyA0ICogM10pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6IGJhbGwuZW1wdHkgPSB7XHJcbiAgICAgICAgICByOiB0aGlzLmdldFJhbmRvbU51bWJlcihbYmFsbC5yIC8gMiwgYmFsbC5yIC8gNCAqIDNdKVxyXG4gICAgICAgIH1cclxuICAgICAgICBiYWxsLnNvbiA9IHtcclxuICAgICAgICAgIHI6IHRoaXMuZ2V0UmFuZG9tTnVtYmVyKFtiYWxsLmVtcHR5LnIgLyAyLCBiYWxsLmVtcHR5LnIgLyA0ICogM10pLFxyXG4gICAgICAgICAgY29sb3I6IFsuLi5iYWxsLmNvbG9yXVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmJhbGxzLnB1c2goYmFsbClcclxuICB9XHJcbiAgLy8gIOWIpOaWreivpeS9jee9ruaYr+WQpumHjeWPoFxyXG4gIGlzT3ZlcmxhcChiYWxsKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuYmFsbHMuZXZlcnkoKGIpID0+IHtcclxuICAgICAgbGV0IGQgPSBNYXRoLnNxcnQoTWF0aC5wb3coYmFsbC54IC0gYi54LCAyKSArIE1hdGgucG93KGJhbGwueSAtIGIueSwgMikpXHJcbiAgICAgIGlmIChkIDw9IChiYWxsLnIgKyBiLnIpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG4gIC8vICDmt7vliqDkuIDkuKrplZzlg49CYWxsXHJcbiAgYWRkTWlycm9yQmFsbChiYWxsLCBvYmopIHtcclxuICAgIHZhciBuZXdCYWxsID0ge31cclxuICAgIGZvciAodmFyIGtleSBpbiBiYWxsKSB7XHJcbiAgICAgIGlmIChvYmpba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgbmV3QmFsbFtrZXldID0gb2JqW2tleV1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBuZXdCYWxsW2tleV0gPSBiYWxsW2tleV1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdCYWxsXHJcbiAgfVxyXG4gIC8vICDmuLLmn5NcclxuICByZW5kZXIocHJvZ3Jlc3MpIHtcclxuICAgIHRoaXMuY3h0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcclxuXHJcbiAgICBBcnJheS5mcm9tKHRoaXMuYmFsbHMsIChiYWxsKSA9PiB7XHJcbiAgICAgIHRoaXMucmVuZGVyQmFsbChiYWxsKVxyXG5cclxuICAgICAgLy8gIOW3puWPs+S4iuS4i+mVnOWDj+eQg1xyXG4gICAgICBpZiAoYmFsbC54IDwgYmFsbC5yKSB7XHJcbiAgICAgICAgaWYgKCFiYWxsLm1pcnJvcikge1xyXG4gICAgICAgICAgYmFsbC5taXJyb3IgPSB0aGlzLmFkZE1pcnJvckJhbGwoYmFsbCwgeyB4OiBiYWxsLnggKyB0aGlzLndpZHRoLCBtaXJyb3I6IG51bGwgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoYmFsbC54ID4gdGhpcy53aWR0aCAtIGJhbGwucikge1xyXG4gICAgICAgIGlmICghYmFsbC5taXJyb3IpIHtcclxuICAgICAgICAgIGJhbGwubWlycm9yID0gdGhpcy5hZGRNaXJyb3JCYWxsKGJhbGwsIHsgeDogYmFsbC54IC0gdGhpcy53aWR0aCwgbWlycm9yOiBudWxsIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGJhbGwueSA8IGJhbGwucikge1xyXG4gICAgICAgIGlmICghYmFsbC5taXJyb3IpIHtcclxuICAgICAgICAgIGJhbGwubWlycm9yID0gdGhpcy5hZGRNaXJyb3JCYWxsKGJhbGwsIHsgeTogYmFsbC55ICsgdGhpcy5oZWlnaHQsIG1pcnJvcjogbnVsbCB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChiYWxsLnkgPiB0aGlzLmhlaWdodCAtIGJhbGwucikge1xyXG4gICAgICAgIGlmICghYmFsbC5taXJyb3IpIHtcclxuICAgICAgICAgIGJhbGwubWlycm9yID0gdGhpcy5hZGRNaXJyb3JCYWxsKGJhbGwsIHsgeTogYmFsbC55IC0gdGhpcy5oZWlnaHQsIG1pcnJvcjogbnVsbCB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChiYWxsLm1pcnJvcikge1xyXG4gICAgICAgIGJhbGwubWlycm9yID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICBiYWxsLm1pcnJvciAmJiB0aGlzLnJlbmRlckJhbGwoYmFsbC5taXJyb3IsIGJhbGwpXHJcbiAgICB9KVxyXG4gIH1cclxuICAvLyAg5riy5p+T5Y2V5Liq55CDXHJcbiAgcmVuZGVyQmFsbCAoYmFsbCwgcGFyZW50KSB7XHJcbiAgICBsZXQgeCA9IGJhbGwueCxcclxuICAgICAgICB5ID0gYmFsbC55XHJcblxyXG4gICAgaWYgKGJhbGwuaXNDcmFzaCkge1xyXG4gICAgICBiYWxsLmNvbG9yID0gWzAgLDAsIDBdXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIOWkp+eQg+S9k1xyXG4gICAgdGhpcy5yZW5kZXJBcmMoeCwgeSwgYmFsbC5yLCB0aGlzLmdldFJHQkEoYmFsbC5jb2xvciwgYmFsbC5vcGFjaXR5KSlcclxuXHJcbiAgICAvLyAgdHlwZToxfDIg56m65b+D55m96Imy6YOo5YiGXHJcbiAgICB0aGlzLmN4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0J1xyXG4gICAgYmFsbC50eXBlID4gMCAmJiB0aGlzLnJlbmRlckFyYyh4LCB5LCBiYWxsLmVtcHR5LnIsICcjZmZmJylcclxuXHJcbiAgICAvLyAgdHlwZToyIOeQg+W/g+mDqOWIhlxyXG4gICAgdGhpcy5jeHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJ1xyXG4gICAgYmFsbC50eXBlID09PSAyICYmIHRoaXMucmVuZGVyQXJjKHgsIHksIGJhbGwuc29uLnIsIHRoaXMuZ2V0UkdCQShiYWxsLnNvbi5jb2xvciwgYmFsbC5vcGFjaXR5KSlcclxuXHJcbiAgICAvLyAg6L+e57q/XHJcbiAgICBBcnJheS5mcm9tKHRoaXMuYmFsbHMsIChiKSA9PiB7XHJcbiAgICAgIGlmIChiYWxsID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KHggLSBiLngsIDIpICsgTWF0aC5wb3coeSAtIGIueSwgMikpXHJcbiAgICAgIGlmIChkIDwgdGhpcy5saW5lX3JhbmdlICYmIGQgPiAoYmFsbC5yICsgYi5yKSkge1xyXG4gICAgICAgIHZhciBnID0gdGhpcy5jeHQuY3JlYXRlTGluZWFyR3JhZGllbnQoeCwgeSwgYi54LCBiLnkpXHJcbiAgICAgICAgaWYgKGJhbGwudHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgZy5hZGRDb2xvclN0b3AoMCwgdGhpcy5nZXRSR0JBKGJhbGwuY29sb3IsIDEgLSBkIC8gdGhpcy5saW5lX3JhbmdlKSlcclxuICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKGJhbGwuZW1wdHkuciAvIGQsIHRoaXMuZ2V0UkdCQShiYWxsLmNvbG9yLCAxIC0gZCAvIHRoaXMubGluZV9yYW5nZSkpXHJcbiAgICAgICAgICBnLmFkZENvbG9yU3RvcChiYWxsLmVtcHR5LnIgLyBkLCAndHJhbnNwYXJlbnQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChiYWxsLnR5cGUgPT09IDIpIHtcclxuICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKDAsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgICBnLmFkZENvbG9yU3RvcChiYWxsLnNvbi5yIC8gZCwgJ3RyYW5zcGFyZW50JylcclxuICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKGJhbGwuc29uLnIgLyBkLCB0aGlzLmdldFJHQkEoYmFsbC5jb2xvciwgMSAtIGQgLyB0aGlzLmxpbmVfcmFuZ2UpKVxyXG4gICAgICAgICAgZy5hZGRDb2xvclN0b3AoYmFsbC5lbXB0eS5yIC8gZCwgdGhpcy5nZXRSR0JBKGJhbGwuY29sb3IsIDEgLSBkIC8gdGhpcy5saW5lX3JhbmdlKSlcclxuICAgICAgICAgIGcuYWRkQ29sb3JTdG9wKGJhbGwuZW1wdHkuciAvIGQsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgZy5hZGRDb2xvclN0b3AoMCwgJ3RyYW5zcGFyZW50JylcclxuICAgICAgICB9XHJcbiAgICAgICAgZy5hZGRDb2xvclN0b3AoYmFsbC5yIC8gZCwgJ3RyYW5zcGFyZW50JylcclxuICAgICAgICBnLmFkZENvbG9yU3RvcChiYWxsLnIgLyBkLCB0aGlzLmdldFJHQkEoYmFsbC5jb2xvciwgMSAtIGQgLyB0aGlzLmxpbmVfcmFuZ2UpKVxyXG4gICAgICAgIGcuYWRkQ29sb3JTdG9wKDEgLSBiLnIgLyBkLCB0aGlzLmdldFJHQkEoYi5jb2xvciwgMSAtIGQgLyB0aGlzLmxpbmVfcmFuZ2UpKVxyXG4gICAgICAgIGcuYWRkQ29sb3JTdG9wKDEgLSBiLnIgLyBkLCAndHJhbnNwYXJlbnQnKVxyXG4gICAgICAgIGcuYWRkQ29sb3JTdG9wKDEsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgdGhpcy5jeHQuc3Ryb2tlU3R5bGUgPSBnXHJcbiAgICAgICAgdGhpcy5yZW5kZXJMaW5lKHgsIHksIGIueCwgYi55KVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGQgPCAoYmFsbC5yICsgYi5yKSAmJiAhYi5pc0NyYXNoICYmICFiYWxsLmlzQ3Jhc2gpIHtcclxuICAgICAgICBiYWxsLmlzQ3Jhc2ggPSB0cnVlXHJcbiAgICAgICAgYi5pc0NyYXNoID0gdHJ1ZVxyXG4gICAgICAgIHRoaXMuY3Jhc2hIYW5kbGUoYmFsbCwgYilcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgcGFyZW50LmlzQ3Jhc2ggPSB0cnVlXHJcbiAgICAgICAgICBwYXJlbnQudnggPSBiYWxsLnZ4XHJcbiAgICAgICAgICBwYXJlbnQudnkgPSBiYWxsLnZ5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYmFsbC5taXJyb3IpIHtcclxuICAgICAgICAgIGJhbGwubWlycm9yLmlzQ3Jhc2ggPSB0cnVlXHJcbiAgICAgICAgICBiYWxsLm1pcnJvci52eCA9IGJhbGwudnhcclxuICAgICAgICAgIGJhbGwubWlycm9yLnZ5ID0gYmFsbC52eVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudCAmJiBiLm1pcnJvcikge1xyXG4gICAgICAgIGxldCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KHggLSBiLm1pcnJvci54LCAyKSArIE1hdGgucG93KHkgLSBiLm1pcnJvci55LCAyKSlcclxuXHJcbiAgICAgICAgaWYgKGQgPCAoYmFsbC5yICsgYi5yKSAmJiBiYWxsLmlzQ3Jhc2ggJiYgIWIubWlycm9yLmlzQ3Jhc2gpIHtcclxuICAgICAgICAgIGJhbGwuaXNDcmFzaCA9IHRydWVcclxuICAgICAgICAgIGIubWlycm9yLmlzQ3Jhc2ggPSB0cnVlXHJcblxyXG4gICAgICAgICAgdGhpcy5jcmFzaEhhbmRsZShiYWxsLCBiLm1pcnJvcilcclxuXHJcbiAgICAgICAgICBiLmlzQ3Jhc2ggPSB0cnVlXHJcbiAgICAgICAgICBiLnZ4ID0gYi5taXJyb3IudnhcclxuICAgICAgICAgIGIudnkgPSBiLm1pcnJvci52eVxyXG5cclxuICAgICAgICAgIHBhcmVudC5pc0NyYXNoID0gdHJ1ZVxyXG4gICAgICAgICAgcGFyZW50LnZ4ID0gYmFsbC52eFxyXG4gICAgICAgICAgcGFyZW50LnZ5ID0gYmFsbC52eVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgY3Jhc2hIYW5kbGUoYjEsIGIyKSB7XHJcbiAgICBsZXQgZGVnID0gTWF0aC5hdGFuMihiMi55IC0gYjEueSwgYjIueCAtIGIxLngpXHJcbiAgICBsZXQgc3BlZWQxID0gTWF0aC5zcXJ0KGIxLnZ4ICogYjEudnggKyBiMS52eSAqIGIxLnZ5KVxyXG4gICAgbGV0IHNwZWVkMiA9IE1hdGguc3FydChiMi52eCAqIGIyLnZ4ICsgYjIudnkgKiBiMi52eSlcclxuICAgIGxldCBkaXIxID0gTWF0aC5hdGFuMihiMS52eSwgYjEudngpXHJcbiAgICBsZXQgZGlyMiA9IE1hdGguYXRhbjIoYjIudnksIGIyLnZ4KVxyXG5cclxuICAgIGxldCB2eDEgPSBzcGVlZDEgKiBNYXRoLmNvcyhkaXIxIC0gZGVnKVxyXG4gICAgbGV0IHZ5MSA9IHNwZWVkMSAqIE1hdGguc2luKGRpcjEgLSBkZWcpXHJcbiAgICBsZXQgdngyID0gc3BlZWQyICogTWF0aC5jb3MoZGlyMiAtIGRlZylcclxuICAgIGxldCB2eTIgPSBzcGVlZDIgKiBNYXRoLnNpbihkaXIyIC0gZGVnKVxyXG5cclxuICAgIGxldCBmeDEgPSB2eDJcclxuICAgIGxldCBmeTEgPSB2eTFcclxuICAgIGxldCBmeDIgPSB2eDFcclxuICAgIGxldCBmeTIgPSB2eTJcclxuXHJcbiAgICBiMS52eCA9IE1hdGguY29zKGRlZykgKiBmeDEgKyBNYXRoLmNvcyhkZWcgKyBNYXRoLlBJIC8gMikgKiBmeTFcclxuICAgIGIxLnZ5ID0gTWF0aC5zaW4oZGVnKSAqIGZ4MSArIE1hdGguc2luKGRlZyArIE1hdGguUEkgLyAyKSAqIGZ5MVxyXG4gICAgYjIudnggPSBNYXRoLmNvcyhkZWcpICogZngyICsgTWF0aC5jb3MoZGVnICsgTWF0aC5QSSAvIDIpICogZnkyXHJcbiAgICBiMi52eSA9IE1hdGguc2luKGRlZykgKiBmeDIgKyBNYXRoLnNpbihkZWcgKyBNYXRoLlBJIC8gMikgKiBmeTJcclxuICB9XHJcbiAgLy8gIOabtOaWsFxyXG4gIHVwZGF0ZSgpIHtcclxuICAgIHRoaXMuYmFsbHMgPSB0aGlzLmJhbGxzLm1hcCgoYmFsbCkgPT4ge1xyXG4gICAgICBpZiAoYmFsbC54IDwgLWJhbGwucikge1xyXG4gICAgICAgIHJldHVybiBiYWxsLm1pcnJvclxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKGJhbGwueCA+IHRoaXMud2lkdGggKyBiYWxsLnIpIHtcclxuICAgICAgICByZXR1cm4gYmFsbC5taXJyb3JcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChiYWxsLnkgPCAtYmFsbC5yKSB7XHJcbiAgICAgICAgcmV0dXJuIGJhbGwubWlycm9yXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoYmFsbC55ID4gdGhpcy5oZWlnaHQgKyBiYWxsLnIpIHtcclxuICAgICAgICByZXR1cm4gYmFsbC5taXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgYmFsbC54ICs9IGJhbGwudnhcclxuICAgICAgYmFsbC55ICs9IGJhbGwudnlcclxuICAgICAgYmFsbC5jb2xvciA9IGJhbGwuY29sb3IubWFwKChuLCBpKSA9PiB7XHJcbiAgICAgICAgYmFsbC5jdXJfaSsrXHJcbiAgICAgICAgaWYgKGJhbGwuY3VyX2kgPT09IGJhbGwuQ29sb3JMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgYmFsbC5jdXJfaSA9IDBcclxuICAgICAgICAgIGJhbGwucmV2ZXJzZSA9ICFiYWxsLnJldmVyc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJhbGwuQ29sb3JMaXN0W2JhbGwucmV2ZXJzZSA/IGJhbGwuQ29sb3JMaXN0Lmxlbmd0aCAtIGJhbGwuY3VyX2kgLSAxIDogYmFsbC5jdXJfaV1baV1cclxuICAgICAgfSlcclxuICAgICAgaWYgKGJhbGwudHlwZSA9PT0gMikge1xyXG4gICAgICAgIGJhbGwuc29uLmNvbG9yID0gWy4uLmJhbGwuY29sb3JdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChiYWxsLm1pcnJvcikge1xyXG4gICAgICAgIGJhbGwubWlycm9yLnggKz0gYmFsbC5taXJyb3IudnhcclxuICAgICAgICBiYWxsLm1pcnJvci55ICs9IGJhbGwubWlycm9yLnZ5XHJcblxyXG4gICAgICAgIGlmIChiYWxsLm1pcnJvci5pc0NyYXNoKSB7XHJcbiAgICAgICAgICBiYWxsLm1pcnJvci5pc0NyYXNoID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChiYWxsLmlzQ3Jhc2gpIHtcclxuICAgICAgICBiYWxsLmlzQ3Jhc2ggPSBmYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYmFsbFxyXG4gICAgfSlcclxuICB9XHJcbiAgZ2V0UkdCQShjb2xvciwgb3BhY2l0eSkge1xyXG4gICAgcmV0dXJuIGByZ2JhKCR7fn5jb2xvclswXX0sICR7fn5jb2xvclsxXX0sICR7fn5jb2xvclsyXX0sICR7b3BhY2l0eX0pYFxyXG4gIH1cclxuICAvLyAg5qC55o2u6IyD5Zu05b6X5Yiw5LiA5Liq6ZqP5py65pWwW1vojIPlm7RdLCDlsI/mlbDkvY1dXHJcbiAgZ2V0UmFuZG9tTnVtYmVyKFttaW4sIG1heF0sIGRlY2ltYWwpIHtcclxuICAgIHJldHVybiAoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pblxyXG4gIH1cclxuICAvLyAg55S75LiA5Liq5ZyGXHJcbiAgcmVuZGVyQXJjKHgsIHksIHIsIGNvbG9yKSB7XHJcbiAgICB0aGlzLmN4dC5maWxsU3R5bGUgPSBjb2xvclxyXG5cclxuICAgIHRoaXMuY3h0LmJlZ2luUGF0aCgpXHJcbiAgICB0aGlzLmN4dC5hcmMoeCwgeSwgciwgMCwgTWF0aC5QSSAqIDIsIHRydWUpXHJcbiAgICB0aGlzLmN4dC5jbG9zZVBhdGgoKVxyXG5cclxuICAgIHRoaXMuY3h0LmZpbGwoKVxyXG4gIH1cclxuICAvLyAg55S75LiA5p2h57q/XHJcbiAgcmVuZGVyTGluZSh4MSwgeTEsIHgyLCB5Mikge1xyXG4gICAgdGhpcy5jeHQuYmVnaW5QYXRoKClcclxuICAgIHRoaXMuY3h0Lm1vdmVUbyh4MSwgeTEpXHJcbiAgICB0aGlzLmN4dC5saW5lVG8oeDIsIHkyKVxyXG4gICAgdGhpcy5jeHQuY2xvc2VQYXRoKClcclxuXHJcbiAgICB0aGlzLmN4dC5zdHJva2UoKVxyXG4gIH1cclxuICAvLyAg55S75Liq5LiJ6KeS5b2iXHJcbiAgcmVuZGVyVHJpKGNvb3JkMSwgY29vcmQyLCBjb29yZDMpIHtcclxuICAgIHRoaXMuY3h0LmJlZ2luUGF0aCgpXHJcbiAgICB0aGlzLmN4dC5tb3ZlVG8oY29vcmQxLngsIGNvb3JkMS55KVxyXG4gICAgdGhpcy5jeHQubGluZVRvKGNvb3JkMi54LCBjb29yZDIueSlcclxuICAgIHRoaXMuY3h0LmxpbmVUbyhjb29yZDMueCwgY29vcmQzLnkpXHJcbiAgICB0aGlzLmN4dC5saW5lVG8oY29vcmQxLngsIGNvb3JkMS55KVxyXG4gICAgdGhpcy5jeHQuY2xvc2VQYXRoKClcclxuXHJcbiAgICB0aGlzLmN4dC5zdHJva2UoKVxyXG4gIH1cclxufSJdfQ==
